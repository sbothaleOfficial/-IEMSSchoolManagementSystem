<Window x:Class="IEMS.WPF.FeeReceiptWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Fee Receipt" Height="700" Width="600"
        WindowStartupLocation="CenterScreen">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Action Buttons -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Right" Margin="10">
            <Button x:Name="btnPrint" Content="Print" Width="100" Height="35"
                    Margin="5" Click="BtnPrint_Click"
                    Style="{StaticResource SuccessButtonStyle}"/>
            <Button x:Name="btnClose" Content="Close" Width="100" Height="35"
                    Margin="5" Click="BtnClose_Click"
                    Style="{StaticResource SecondaryButtonStyle}"/>
        </StackPanel>

        <!-- Receipt Content -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <Border x:Name="receiptBorder" Background="{StaticResource BackgroundBrush}" Margin="20" Padding="20">
                <StackPanel x:Name="receiptContent">
                    <!-- School Header -->
                    <Border BorderBrush="{StaticResource TextPrimaryBrush}" BorderThickness="2" Padding="10" Margin="0,0,0,10">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <!-- School Logo -->
                            <Border Grid.Column="0" Width="60" Height="60"
                                    HorizontalAlignment="Left" VerticalAlignment="Center"
                                    Margin="5,0,10,0" BorderBrush="Black" BorderThickness="1">
                                <Viewbox Stretch="Uniform">
                                    <Image Source="Exact_color_logo.png" Stretch="Uniform"/>
                                </Viewbox>
                            </Border>

                            <!-- School Details -->
                            <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                <TextBlock x:Name="txtSchoolName" Text="INSPIRE ENGLISH MEDIUM SCHOOL, MARDI"
                                           FontSize="16" FontWeight="Bold" HorizontalAlignment="Left" TextWrapping="Wrap"/>
                                <TextBlock x:Name="txtSchoolAddress" Text="Tah. Maregaon, Dist. Yavatmal (Maharashtra) – 445303"
                                           FontSize="11" HorizontalAlignment="Left"/>
                                <TextBlock x:Name="txtSchoolPhone" Text=""
                                           FontSize="10" HorizontalAlignment="Left"/>
                            </StackPanel>
                        </Grid>
                    </Border>

                    <!-- Receipt Header -->
                    <Grid Margin="0,10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <StackPanel Grid.Column="0">
                            <TextBlock x:Name="txtReceiptNumber" Text="Receipt No: 000001"
                                       FontWeight="Bold" FontSize="12"/>
                            <TextBlock x:Name="txtAcademicYear" Text="Academic Year: 2024-25"
                                       FontSize="11" Margin="0,2"/>
                        </StackPanel>

                        <StackPanel Grid.Column="1" HorizontalAlignment="Right">
                            <TextBlock x:Name="txtReceiptDate" Text="Date: 16/09/2025"
                                       FontWeight="Bold" FontSize="12"/>
                        </StackPanel>
                    </Grid>

                    <!-- Student Details -->
                    <Border BorderBrush="{StaticResource BorderDarkBrush}" BorderThickness="1" Padding="10" Margin="0,10">
                        <StackPanel>
                            <TextBlock Text="STUDENT DETAILS:" FontWeight="Bold" FontSize="12" Margin="0,0,0,5"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <StackPanel Grid.Column="0">
                                    <TextBlock x:Name="txtStudentName" Text="Name: John Doe" FontSize="11"/>
                                    <TextBlock x:Name="txtStudentNumber" Text="Roll No: S001" FontSize="11" Margin="0,2"/>
                                </StackPanel>

                                <StackPanel Grid.Column="1">
                                    <TextBlock x:Name="txtClassName" Text="Class: 5th Standard" FontSize="11"/>
                                    <TextBlock x:Name="txtParentPhone" Text="Phone: 9876543210" FontSize="11" Margin="0,2"/>
                                </StackPanel>
                            </Grid>
                        </StackPanel>
                    </Border>

                    <!-- Payment Details -->
                    <Border BorderBrush="{StaticResource BorderDarkBrush}" BorderThickness="1" Padding="10" Margin="0,5">
                        <StackPanel>
                            <TextBlock Text="PAYMENT DETAILS:" FontWeight="Bold" FontSize="12" Margin="0,0,0,5"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <StackPanel Grid.Column="0">
                                    <TextBlock x:Name="txtFeeType" Text="Fee Type: TUITION" FontSize="11"/>
                                    <TextBlock x:Name="txtPaymentMethod" Text="Payment Method: CASH" FontSize="11" Margin="0,2"/>
                                    <TextBlock x:Name="txtTransactionDetails" Text="" FontSize="11" Margin="0,2"/>
                                </StackPanel>

                                <StackPanel Grid.Column="1">
                                    <TextBlock x:Name="txtAmountPaid" Text="Amount Paid: ₹5,000.00" FontSize="11" FontWeight="Bold"/>
                                    <TextBlock x:Name="txtAmountInWords" Text="Five Thousand Rupees Only"
                                               FontSize="10" TextWrapping="Wrap" Margin="0,2"/>
                                </StackPanel>
                            </Grid>
                        </StackPanel>
                    </Border>

                    <!-- Fee Summary -->
                    <Border BorderBrush="{StaticResource BorderDarkBrush}" BorderThickness="1" Padding="10" Margin="0,5">
                        <StackPanel>
                            <TextBlock Text="FEE SUMMARY:" FontWeight="Bold" FontSize="12" Margin="0,0,0,5"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="2*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="Total Fees:" FontSize="11"/>
                                    <TextBlock Text="Previous Balance:" FontSize="11" Margin="0,2"/>
                                    <TextBlock Text="Amount Paid:" FontSize="11" Margin="0,2"/>
                                    <TextBlock x:Name="txtLateFeeDisplay" Text="" FontSize="11" Margin="0,2"/>
                                    <TextBlock x:Name="txtDiscountDisplay" Text="" FontSize="11" Margin="0,2"/>
                                    <Rectangle Height="1" Fill="Black" Margin="0,5"/>
                                    <TextBlock Text="Remaining Balance:" FontSize="11" FontWeight="Bold"/>
                                </StackPanel>

                                <StackPanel Grid.Column="1" HorizontalAlignment="Right">
                                    <TextBlock x:Name="txtTotalFees" Text="₹60,000" FontSize="11"/>
                                    <TextBlock x:Name="txtPreviousBalance" Text="₹10,000" FontSize="11" Margin="0,2"/>
                                    <TextBlock x:Name="txtPaymentAmount" Text="₹5,000" FontSize="11" Margin="0,2"/>
                                    <TextBlock x:Name="txtLateFeeAmount" Text="" FontSize="11" Margin="0,2"/>
                                    <TextBlock x:Name="txtDiscountAmount" Text="" FontSize="11" Margin="0,2"/>
                                    <Rectangle Height="1" Fill="Black" Margin="0,5"/>
                                    <TextBlock x:Name="txtRemainingBalance" Text="₹5,000" FontSize="11" FontWeight="Bold"/>
                                </StackPanel>
                            </Grid>
                        </StackPanel>
                    </Border>

                    <!-- Additional Details -->
                    <Border BorderBrush="{StaticResource BorderDarkBrush}" BorderThickness="1" Padding="10" Margin="0,5"
                            x:Name="borderAdditionalDetails" Visibility="Collapsed">
                        <StackPanel>
                            <TextBlock Text="ADDITIONAL DETAILS:" FontWeight="Bold" FontSize="12" Margin="0,0,0,5"/>
                            <TextBlock x:Name="txtInstallmentInfo" Text="" FontSize="11" Margin="0,2"/>
                            <TextBlock x:Name="txtNextDueDate" Text="" FontSize="11" Margin="0,2"/>
                            <TextBlock x:Name="txtPaymentNotes" Text="" FontSize="11" TextWrapping="Wrap" Margin="0,2"/>
                        </StackPanel>
                    </Border>

                    <!-- Footer -->
                    <Grid Margin="0,20,0,10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <StackPanel Grid.Column="0" HorizontalAlignment="Left">
                            <TextBlock Text="Authorized Signature" FontSize="11" HorizontalAlignment="Center"/>
                            <Rectangle Height="30" Width="150" Margin="0,5"/>
                        </StackPanel>

                        <StackPanel Grid.Column="1" HorizontalAlignment="Right">
                            <TextBlock Text="School Seal/Stamp" FontSize="10" HorizontalAlignment="Center" Margin="0,35"/>
                        </StackPanel>
                    </Grid>

                    <!-- Terms and Conditions -->
                    <Border BorderBrush="{StaticResource BorderDarkBrush}" BorderThickness="1" Padding="10" Margin="0,10,0,0">
                        <StackPanel>
                            <TextBlock Text="TERMS &amp; CONDITIONS:" FontWeight="Bold" FontSize="10" Margin="0,0,0,3"/>
                            <TextBlock Text="a. Fees once paid will not be refunded" FontSize="9"/>
                            <TextBlock Text="b. Please keep this receipt for future reference" FontSize="9" Margin="0,1"/>
                            <TextBlock Text="c. For any queries, contact school office" FontSize="9" Margin="0,1"/>
                        </StackPanel>
                    </Border>

                </StackPanel>
            </Border>
        </ScrollViewer>
    </Grid>
</Window>